
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore the data &#8212; Jupyter Meets the Earth - Toy research workflows</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.c441f2ba0852f4cabcb80105e3a46ae6.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Analyze the data" href="analysis.html" />
    <link rel="prev" title="Get data" href="getdata.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/jupyter-earth.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Jupyter Meets the Earth - Toy research workflows</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Jupyter Meets the Earth - A toy research workflow
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="index.html">
   ICESat-2 sees glacier crevasses
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="ideas.html">
     Search for ideas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="getdata.html">
     Get data
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Explore the data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="analysis.html">
     Analyze the data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="results.html">
     Generate publication-ready results
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="writeup.html">
     Write a report
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="reproduce.html">
     Reproducibility
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/icesat2-crevasses/explore.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/geostacks/toy-research-workflow/main?urlpath=lab/tree/docs/icesat2-crevasses/explore.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#steps">
   Steps
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#check-data-structure">
     Check data structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-the-data">
     Load the data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prepare-the-data">
     Prepare the data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plot-the-data">
     Plot the data
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="explore-the-data">
<h1>Explore the data<a class="headerlink" href="#explore-the-data" title="Permalink to this headline">¶</a></h1>
<p>We have downloaded the ICESat-2 data and saved them as <code class="docutils literal notranslate"><span class="pre">./download/processed_ATL03_20190805232841_05940403_004_01.h5</span></code>. Before diving into a specific analysis routine, let us see if we can have a general overview about the data using the Jupyter tools. This will give us some ideas for the remaining steps.</p>
<div class="tip admonition">
<p class="admonition-title">Goals</p>
<p>Explore the data file, including its data structure, size, geospatial information, and so on.</p>
</div>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<div class="section" id="check-data-structure">
<h3>Check data structure<a class="headerlink" href="#check-data-structure" title="Permalink to this headline">¶</a></h3>
<p>Since the data are stored using the HDF5 format (as indicated by the file extension), we will need certain tools to read them. For example, we can use the <code class="docutils literal notranslate"><span class="pre">h5ls</span></code> command-line tool to have a quick look of the data structure. On Jupyter notebook, we can use the <code class="docutils literal notranslate"><span class="pre">!</span></code> character to use any command-line tool, and we can even pass the variable defined in the other cell (Python or Shell block) to the <code class="docutils literal notranslate"><span class="pre">h5ls</span></code> command.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;download/processed_ATL03_20190805232841_05940403_004_01.h5&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>This string variable is now shared by the Python kernel and the shell environment. Note that we also use <code class="docutils literal notranslate"><span class="pre">grep</span></code> here because the full, nested data structure is very long, and we are only interested in the gt1l beam (which <span id="id1">[<span>Herzfeld2021</span>]</span> use in their study).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>h5ls -r <span class="nv">$filename</span> <span class="p">|</span> grep ^/gt1l
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/gt1l                    Group
/gt1l/bckgrd_atlas       Group
/gt1l/bckgrd_atlas/bckgrd_counts Dataset {65016/Inf}
/gt1l/bckgrd_atlas/bckgrd_counts_reduced Dataset {65016/Inf}
/gt1l/bckgrd_atlas/bckgrd_hist_top Dataset {65016/Inf}
/gt1l/bckgrd_atlas/bckgrd_int_height Dataset {65016/Inf}
/gt1l/bckgrd_atlas/bckgrd_int_height_reduced Dataset {65016/Inf}
/gt1l/bckgrd_atlas/bckgrd_rate Dataset {65016/Inf}
/gt1l/bckgrd_atlas/delta_time Dataset {65016/Inf}
/gt1l/bckgrd_atlas/pce_mframe_cnt Dataset {65016/Inf}
/gt1l/bckgrd_atlas/tlm_height_band1 Dataset {65016/Inf}
/gt1l/bckgrd_atlas/tlm_height_band2 Dataset {65016/Inf}
/gt1l/bckgrd_atlas/tlm_top_band1 Dataset {65016/Inf}
/gt1l/bckgrd_atlas/tlm_top_band2 Dataset {65016/Inf}
/gt1l/geolocation        Group
/gt1l/geolocation/altitude_sc Dataset {993/Inf}
/gt1l/geolocation/bounce_time_offset Dataset {993/Inf}
/gt1l/geolocation/delta_time Dataset {993/Inf}
/gt1l/geolocation/full_sat_fract Dataset {993/Inf}
/gt1l/geolocation/near_sat_fract Dataset {993/Inf}
/gt1l/geolocation/neutat_delay_derivative Dataset {993/Inf}
/gt1l/geolocation/neutat_delay_total Dataset {993/Inf}
/gt1l/geolocation/neutat_ht Dataset {993/Inf}
/gt1l/geolocation/ph_index_beg Dataset {993/Inf}
/gt1l/geolocation/pitch  Dataset {993/Inf}
/gt1l/geolocation/podppd_flag Dataset {993/Inf}
/gt1l/geolocation/range_bias_corr Dataset {993/Inf}
/gt1l/geolocation/ref_azimuth Dataset {993/Inf}
/gt1l/geolocation/ref_elev Dataset {993/Inf}
/gt1l/geolocation/reference_photon_index Dataset {993/Inf}
/gt1l/geolocation/reference_photon_lat Dataset {993/Inf}
/gt1l/geolocation/reference_photon_lon Dataset {993/Inf}
/gt1l/geolocation/roll   Dataset {993/Inf}
/gt1l/geolocation/segment_dist_x Dataset {993/Inf}
/gt1l/geolocation/segment_id Dataset {993/Inf}
/gt1l/geolocation/segment_length Dataset {993/Inf}
/gt1l/geolocation/segment_ph_cnt Dataset {993/Inf}
/gt1l/geolocation/sigma_across Dataset {993/Inf}
/gt1l/geolocation/sigma_along Dataset {993/Inf}
/gt1l/geolocation/sigma_h Dataset {993/Inf}
/gt1l/geolocation/sigma_lat Dataset {993/Inf}
/gt1l/geolocation/sigma_lon Dataset {993/Inf}
/gt1l/geolocation/solar_azimuth Dataset {993/Inf}
/gt1l/geolocation/solar_elevation Dataset {993/Inf}
/gt1l/geolocation/surf_type Dataset {993/Inf, 5}
/gt1l/geolocation/tx_pulse_energy Dataset {993/Inf}
/gt1l/geolocation/tx_pulse_skew_est Dataset {993/Inf}
/gt1l/geolocation/tx_pulse_width_lower Dataset {993/Inf}
/gt1l/geolocation/tx_pulse_width_upper Dataset {993/Inf}
/gt1l/geolocation/velocity_sc Dataset {993/Inf, 3}
/gt1l/geolocation/yaw    Dataset {993/Inf}
/gt1l/geophys_corr       Group
/gt1l/geophys_corr/dac   Dataset {993/Inf}
/gt1l/geophys_corr/delta_time Dataset {993/Inf}
/gt1l/geophys_corr/dem_flag Dataset {993/Inf}
/gt1l/geophys_corr/dem_h Dataset {993/Inf}
/gt1l/geophys_corr/geoid Dataset {993/Inf}
/gt1l/geophys_corr/geoid_free2mean Dataset {993/Inf}
/gt1l/geophys_corr/tide_earth Dataset {993/Inf}
/gt1l/geophys_corr/tide_earth_free2mean Dataset {993/Inf}
/gt1l/geophys_corr/tide_equilibrium Dataset {993/Inf}
/gt1l/geophys_corr/tide_load Dataset {993/Inf}
/gt1l/geophys_corr/tide_oc_pole Dataset {993/Inf}
/gt1l/geophys_corr/tide_ocean Dataset {993/Inf}
/gt1l/geophys_corr/tide_pole Dataset {993/Inf}
/gt1l/heights            Group
/gt1l/heights/delta_time Dataset {312012/Inf}
/gt1l/heights/dist_ph_across Dataset {312012/Inf}
/gt1l/heights/dist_ph_along Dataset {312012/Inf}
/gt1l/heights/h_ph       Dataset {312012/Inf}
/gt1l/heights/lat_ph     Dataset {312012/Inf}
/gt1l/heights/lon_ph     Dataset {312012/Inf}
/gt1l/heights/pce_mframe_cnt Dataset {312012/Inf}
/gt1l/heights/ph_id_channel Dataset {312012/Inf}
/gt1l/heights/ph_id_count Dataset {312012/Inf}
/gt1l/heights/ph_id_pulse Dataset {312012/Inf}
/gt1l/heights/quality_ph Dataset {312012/Inf}
/gt1l/heights/signal_conf_ph Dataset {312012/Inf, 5}
/gt1l/signal_find_output Group
/gt1l/signal_find_output/inlandwater Group
/gt1l/signal_find_output/inlandwater/bckgrd_mean Dataset {127749/Inf}
/gt1l/signal_find_output/inlandwater/bckgrd_sigma Dataset {127749/Inf}
/gt1l/signal_find_output/inlandwater/delta_time Dataset {127749/Inf}
/gt1l/signal_find_output/inlandwater/t_pc_delta Dataset {127749/Inf}
/gt1l/signal_find_output/inlandwater/z_pc_delta Dataset {127749/Inf}
/gt1l/signal_find_output/land Group
/gt1l/signal_find_output/land/bckgrd_mean Dataset {37107/Inf}
/gt1l/signal_find_output/land/bckgrd_sigma Dataset {37107/Inf}
/gt1l/signal_find_output/land/delta_time Dataset {37107/Inf}
/gt1l/signal_find_output/land/t_pc_delta Dataset {37107/Inf}
/gt1l/signal_find_output/land/z_pc_delta Dataset {37107/Inf}
/gt1l/signal_find_output/land_ice Group
/gt1l/signal_find_output/land_ice/bckgrd_mean Dataset {70322/Inf}
/gt1l/signal_find_output/land_ice/bckgrd_sigma Dataset {70322/Inf}
/gt1l/signal_find_output/land_ice/delta_time Dataset {70322/Inf}
/gt1l/signal_find_output/land_ice/t_pc_delta Dataset {70322/Inf}
/gt1l/signal_find_output/land_ice/z_pc_delta Dataset {70322/Inf}
/gt1l/signal_find_output/ocean Group
/gt1l/signal_find_output/ocean/bckgrd_mean Dataset {54122/Inf}
/gt1l/signal_find_output/ocean/bckgrd_sigma Dataset {54122/Inf}
/gt1l/signal_find_output/ocean/delta_time Dataset {54122/Inf}
/gt1l/signal_find_output/ocean/t_pc_delta Dataset {54122/Inf}
/gt1l/signal_find_output/ocean/z_pc_delta Dataset {54122/Inf}
/gt1l/signal_find_output/sea_ice Group
/gt1l/signal_find_output/sea_ice/bckgrd_mean Dataset {54481/Inf}
/gt1l/signal_find_output/sea_ice/bckgrd_sigma Dataset {54481/Inf}
/gt1l/signal_find_output/sea_ice/delta_time Dataset {54481/Inf}
/gt1l/signal_find_output/sea_ice/t_pc_delta Dataset {54481/Inf}
/gt1l/signal_find_output/sea_ice/z_pc_delta Dataset {54481/Inf}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-the-data">
<h3>Load the data<a class="headerlink" href="#load-the-data" title="Permalink to this headline">¶</a></h3>
<p>Now we use h5py (the python library for working with HDF5) and numpy to open the file and load the data we want.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lon_ph</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;gt1l&#39;</span><span class="p">][</span><span class="s1">&#39;heights&#39;</span><span class="p">][</span><span class="s1">&#39;lon_ph&#39;</span><span class="p">][:]</span>    <span class="c1"># photon longitude (x)</span>
    <span class="n">lat_ph</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;gt1l&#39;</span><span class="p">][</span><span class="s1">&#39;heights&#39;</span><span class="p">][</span><span class="s1">&#39;lat_ph&#39;</span><span class="p">][:]</span>    <span class="c1"># photon latitude  (y)</span>
    <span class="n">h_ph</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;gt1l&#39;</span><span class="p">][</span><span class="s1">&#39;heights&#39;</span><span class="p">][</span><span class="s1">&#39;h_ph&#39;</span><span class="p">][:]</span>        <span class="c1"># photon elevation (z), in m</span>
    <span class="n">dist_ph</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;gt1l&#39;</span><span class="p">][</span><span class="s1">&#39;heights&#39;</span><span class="p">][</span><span class="s1">&#39;dist_ph_along&#39;</span><span class="p">][:]</span>            <span class="c1"># photon horizontal distance from the beginning of the parent segment, in m</span>
    <span class="n">seg_length</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;gt1l&#39;</span><span class="p">][</span><span class="s1">&#39;geolocation&#39;</span><span class="p">][</span><span class="s1">&#39;segment_length&#39;</span><span class="p">][:]</span>    <span class="c1"># horizontal of each segment, in m</span>
    <span class="n">seg_ph_count</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;gt1l&#39;</span><span class="p">][</span><span class="s1">&#39;geolocation&#39;</span><span class="p">][</span><span class="s1">&#39;segment_ph_cnt&#39;</span><span class="p">][:]</span>  <span class="c1"># photon count in each segment, in m</span>
</pre></div>
</div>
</div>
</div>
<p>We can easily check the content and statistical information of each variable. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">seg_ph_count</span><span class="p">))</span>    
<span class="nb">print</span><span class="p">(</span><span class="n">h_ph</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>        <span class="c1"># this should equal to the summation of the photon count.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>312012
312012
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="prepare-the-data">
<h3>Prepare the data<a class="headerlink" href="#prepare-the-data" title="Permalink to this headline">¶</a></h3>
<p>We often need to apply a few steps to the raw data before visualizing or analyzing them. Take these ICESat-2 data for example: if we want to plot the elevation along this track, we need the distance along the track as x values, which is not provided but can be calculated on our own. Using Jupyter Notebook, we can quickly design a Python function for this variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make_dist_alongtrack</span><span class="p">(</span><span class="n">ph_count</span><span class="p">,</span> <span class="n">seg_length</span><span class="p">,</span> <span class="n">dist_ph</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    For detailed explanation of each variable and reasoning of the code, see ICESat-2 ATL03 documentation.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">repeat_num</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">seg_length</span><span class="p">)</span> <span class="o">-</span> <span class="n">seg_length</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">dist_alongtrack</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat_num</span><span class="p">,</span> <span class="n">ph_count</span><span class="p">)</span>
    <span class="n">dist_alongtrack</span> <span class="o">+=</span> <span class="n">dist_ph</span>
    <span class="k">return</span> <span class="n">dist_alongtrack</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dist_alongtrack</span> <span class="o">=</span> <span class="n">make_dist_alongtrack</span><span class="p">(</span><span class="n">seg_ph_count</span><span class="p">,</span> <span class="n">seg_length</span><span class="p">,</span> <span class="n">dist_ph</span><span class="p">)</span>   <span class="c1"># distance along track for each photon, in m</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plot-the-data">
<h3>Plot the data<a class="headerlink" href="#plot-the-data" title="Permalink to this headline">¶</a></h3>
<p>Plotting the data is a great way to obtain a brief overview. Using interactive matplotlib figures powered by <code class="docutils literal notranslate"><span class="pre">ipympl</span></code>, we can speed up the exploration and quickly focus on the key elements of our data.</p>
<p>Use the following Notebook command to activate interactive matplotlib environment:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> widget
</pre></div>
</div>
</div>
</div>
<p>And then we import matplotlib.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>Now every single figure will come with a control panel, and we can use the buttons to pan, zoom, and save the figure. This is especially very helpful in our case because crevasses are small scale features and do not show everywhere along the track. We have to really zoom in to a certain area in order to see them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dist_alongtrack</span><span class="p">,</span> <span class="n">h_ph</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "2b0bfd46a3bf4a82bd5021df7e311f06", "version_major": 2, "version_minor": 0}
</script><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f8c1ccf33d0&gt;]
</pre></div>
</div>
</div>
</div>
<p>After a careful check up, we are able to locate the segment where <a class="reference internal" href="ideas.html#sec-ideas-goals"><span class="std std-ref">Figure 6a</span></a> of <span id="id2">[<span>Herzfeld2021</span>]</span> uses. (Note that the along-track distance readings are different because we are using a subset of the original data granule .)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dist_alongtrack</span><span class="p">,</span> <span class="n">h_ph</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">15090</span><span class="p">,</span> <span class="mi">16090</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">363</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "ac57166a1cee4804a3206498e16bf15c", "version_major": 2, "version_minor": 0}
</script><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(320.0, 363.0)
</pre></div>
</div>
</div>
</div>
<div class="admonition-summary admonition">
<p class="admonition-title">Summary</p>
<p>The Jupyter ecosystem provides multiple and interactive approaches to access and explore the data.</p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-.conda-jme-py"
        },
        kernelOptions: {
            kernelName: "conda-env-.conda-jme-py",
            path: "./icesat2-crevasses"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-.conda-jme-py'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="getdata.html" title="previous page">Get data</a>
    <a class='right-next' id="next-link" href="analysis.html" title="next page">Analyze the data</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Jupyter Book community<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>